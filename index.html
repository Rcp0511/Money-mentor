<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Unit 1 ‚Äì Investing Vocabulary</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --green: #16a34a;
  --dark: #0f172a;
  --light: #f8fafc;
  --gray: #64748b;
}

* {
  box-sizing: border-box;
  font-family: Inter, sans-serif;
}

body {
  margin: 0;
  background: var(--light);
  color: var(--dark);
}

.hidden { display: none; }

.center {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* START SCREEN */
#startScreen {
  height: 100vh;
  background: var(--green);
  color: white;
  text-align: center;
}

#startCard {
  background: none;
}

#startCard h1 {
  font-size: 2.4rem;
  margin-bottom: 10px;
}

#startBtn {
  padding: 14px 30px;
  font-size: 1.1rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

/* MAIN */
#app {
  max-width: 900px;
  margin: 30px auto;
  padding: 20px;
}

/* HEADER */
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

header h2 {
  font-size: 1.8rem;
}

#star {
  font-size: 1.8rem;
}

/* STATS */
#stats {
  display: flex;
  gap: 20px;
  margin: 15px 0;
}

.stat {
  background: white;
  padding: 10px 15px;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,.05);
}

/* QUESTION */
#questionCard {
  background: white;
  padding: 20px;
  border-radius: 14px;
  box-shadow: 0 6px 18px rgba(0,0,0,.08);
  margin-top: 20px;
}

.option {
  padding: 12px;
  border-radius: 8px;
  margin: 8px 0;
  background: #f1f5f9;
  cursor: pointer;
}

.option.correct { background: #dcfce7; }
.option.wrong { background: #fee2e2; }

/* ICONS */
.icon {
  margin-right: 6px;
  font-weight: bold;
}

.flag {
  cursor: pointer;
  font-size: 1.3rem;
}

/* REVIEW */
.reviewItem {
  background: white;
  padding: 15px;
  border-radius: 12px;
  margin-bottom: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,.06);
}

/* BUTTONS */
button {
  background: var(--green);
  color: white;
  border: none;
  padding: 10px 18px;
  border-radius: 8px;
  cursor: pointer;
}

.secondary {
  background: #334155;
}

.danger {
  background: #dc2626;
}
</style>
</head>

<body>

<!-- START SCREEN -->
<div id="startScreen" class="center">
  <div id="startCard">
    <h1>Unit 1 ‚Äì Investing Vocabulary</h1>
    <button id="startBtn">Start Unit Test</button>
  </div>
</div>

<!-- APP -->
<div id="app" class="hidden">
<header>
  <h2>Unit 1 ‚Äì Investing Vocabulary</h2>
  <div id="star"></div>
</header>

<div id="stats">
  <div class="stat">Last Score: <span id="lastScore">‚Äî</span></div>
  <div class="stat">Highest Score: <span id="highScore">‚Äî</span></div>
</div>

<div id="questionCard"></div>

<div style="margin-top:15px;">
  <button id="nextBtn">Next</button>
  <span class="flag" id="flagBtn">üö©</span>
</div>

<div style="margin-top:20px;">
  <button id="reviewBtn" class="secondary hidden">Review</button>
  <button id="clearBtn" class="danger">Clear Data</button>
</div>
</div>

<script>
const questions = [
  {
    q: "What is a stock?",
    options: ["A loan", "Ownership in a company", "A savings account"],
    answer: 1,
    explanation: "A stock represents partial ownership in a company, not a loan or bank account."
  },
  {
    q: "What does diversification reduce?",
    options: ["Profit", "Risk", "Taxes"],
    answer: 1,
    explanation: "Diversification spreads investments to reduce overall risk."
  }
];

let index = 0;
let score = 0;
let flagged = new Set();
let answers = [];

const lastScoreEl = document.getElementById("lastScore");
const highScoreEl = document.getElementById("highScore");
const starEl = document.getElementById("star");

function loadStats() {
  lastScoreEl.textContent = localStorage.getItem("lastScore") ?? "‚Äî";
  highScoreEl.textContent = localStorage.getItem("highScore") ?? "‚Äî";
  if (localStorage.getItem("unitComplete")) starEl.textContent = "‚≠ê";
}

function showQuestion() {
  const q = questions[index];
  const card = document.getElementById("questionCard");
  card.innerHTML = `<h3>${q.q}</h3>`;
  q.options.forEach((opt,i)=>{
    const div = document.createElement("div");
    div.className="option";
    div.textContent=opt;
    div.onclick=()=>select(i,div);
    card.appendChild(div);
  });
}

function select(i,div){
  const correct = questions[index].answer;
  answers[index]=i;
  if(i===correct){
    div.classList.add("correct");
    score++;
  } else {
    div.classList.add("wrong");
  }
}

document.getElementById("flagBtn").onclick=()=>{
  flagged.add(index);
};

document.getElementById("nextBtn").onclick=()=>{
  index++;
  if(index<questions.length){
    showQuestion();
  } else {
    finish();
  }
};

function finish(){
  const percent = Math.round(score/questions.length*100);
  localStorage.setItem("lastScore", percent+"%");
  const high = parseInt(localStorage.getItem("highScore"))||0;
  if(percent>high) localStorage.setItem("highScore", percent+"%");
  if(percent===100){
    localStorage.setItem("unitComplete","true");
    starEl.textContent="‚≠ê";
  }
  document.getElementById("reviewBtn").classList.remove("hidden");
}

document.getElementById("reviewBtn").onclick=()=>{
  const card = document.getElementById("questionCard");
  card.innerHTML="";
  questions.forEach((q,i)=>{
    const div=document.createElement("div");
    div.className="reviewItem";

    const title=document.createElement("div");
    title.innerHTML =
      (answers[i]===q.answer ? "‚úî " : "‚úñ ") +
      q.q +
      (flagged.has(i) ? " üö©" : "");

    const exp=document.createElement("div");
    exp.style.color="#475569";
    exp.textContent=q.explanation;

    div.appendChild(title);
    div.appendChild(exp);
    card.appendChild(div);
  });
};

document.getElementById("clearBtn").onclick=()=>{
  localStorage.clear();
  location.reload();
};

document.getElementById("startBtn").onclick=()=>{
  document.getElementById("startScreen").classList.add("hidden");
  document.getElementById("app").classList.remove("hidden");
  loadStats();
  showQuestion();
};
</script>

</body>
</html>
