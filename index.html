<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Investing Vocab â€“ Level 1</title>
<style>
body {
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #a8e6a3, #6cc24a, #4aa23f, #2e7d32);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
  color: #333;
}
.quiz-container {
  background: #fff;
  padding: 25px 30px;
  border-radius: 20px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.3);
  width: 480px;
  max-width: 95%;
  text-align: center;
}
button { cursor: pointer; }

/* Start Screen */
#startScreen { display: block; }
#startScreen h1 { margin-bottom: 15px; font-size:2em; }
.start-btn {
  padding: 15px 25px; font-size:1.2em; border:none; border-radius:12px; background:#28a745; color:white;
  transition:0.3s;
}
.start-btn:hover { background:#218838; }
#scoreInfo { font-size: 0.9em; margin-top: 10px; }

/* Quiz */
.question-number { font-size: 0.9em; color: #666; margin-bottom: 5px; }
.question { font-size: 1.3em; margin-bottom: 20px; }
.options button {
  display: block; width: 100%; margin: 8px 0; padding: 12px; font-size: 1em;
  border: 2px solid #ccc; border-radius: 10px; background-color: #fdfdfd; cursor: pointer; transition: 0.2s; text-align: left;
}
.options button:hover { border-color: #007bff; background-color: #e0f0ff; transform: scale(1.02); }
.options button.selected { background-color: #d4edda; border-color: #28a745; }
.controls { display: flex; justify-content: space-between; margin-top: 15px; }
.controls button { padding: 10px 15px; font-size: 0.95em; border: none; border-radius: 8px; }
#prevBtn { background-color: #6c757d; color: white; }
#prevBtn:hover { background-color: #5a6268; }
#nextBtn { background-color: #007bff; color: white; }
#nextBtn:hover { background-color: #0056b3; }
#flagBtn { background-color: #ffc107; color: white; }
#flagBtn:hover { background-color: #e0a800; }
.progress-bar { height: 12px; background: #eee; border-radius: 6px; overflow: hidden; margin-top: 20px; }
.progress { height: 100%; width: 0%; background: linear-gradient(90deg, #28a745, #85e085); transition: width 0.3s; }

/* Review & Score */
.review, .score-screen, #quiz { display: none; text-align: center; }
.review h3, .score-screen h3 { margin-bottom: 10px; }
.review p.legend { font-size:0.9em; margin-bottom:10px; }
.review p.legend span { display:inline-block; width:15px; height:15px; border-radius:4px; margin-right:5px; vertical-align:middle; }
#flaggedCount { font-size:0.85em; color:#555; margin-bottom:10px; }
.review-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(50px,1fr)); gap: 10px; margin-bottom: 20px; }
.review-box {
  border-radius: 10px; padding: 10px; font-size: 0.85em; cursor: pointer; position: relative;
  display: flex; justify-content: center; align-items: center; transition: 0.2s;
}
.review-box.answered { background-color: #ccc; color:#000; }
.review-box.notanswered { background-color: #e57373; color:white; }
.review-box.flagged::after { content: "âš‘"; color: red; font-weight: bold; position: absolute; top: 5px; right: 8px; font-size: 1em; }

/* Tooltip */
.review-box:hover::before {
  content: attr(data-tooltip);
  position: absolute;
  bottom: -25px;
  left: 50%;
  transform: translateX(-50%);
  background: #333;
  color: #fff;
  padding: 3px 6px;
  border-radius: 4px;
  font-size: 0.75em;
  white-space: nowrap;
}

/* Score list */
.score-screen ul { list-style-type: none; padding: 0; text-align: left; max-height: 250px; overflow-y: auto; }
.score-screen li { margin: 5px 0; padding: 5px; border-left: 4px solid #007bff; background: #fdfdfd; border-radius: 5px; }
.score-screen li.correct { border-left: 4px solid #28a745; }
.score-screen li.wrong { border-left: 4px solid #dc3545; cursor:pointer; }
.restart-btn { margin-top: 20px; background-color: #28a745; color: white; border: none; padding: 12px 20px; font-size: 1em; border-radius: 10px; cursor: pointer; }
.restart-btn:hover { background-color: #218838; }
</style>
</head>
<body>
<div class="quiz-container">
  <!-- Start Screen -->
  <div id="startScreen">
    <h1>ðŸ“ˆ Investing Vocab â€“ Level 1 ðŸ“ˆ</h1>
    <button class="start-btn" id="startBtn">Start Quiz</button>
    <p id="scoreInfo"></p>
  </div>

  <!-- Quiz Screen -->
  <div id="quiz">
    <div class="question-number" id="questionNumber"></div>
    <div class="question" id="question"></div>
    <div class="options" id="options"></div>
    <div class="controls">
      <button id="prevBtn">Previous</button>
      <button id="flagBtn">Flag</button>
      <button id="nextBtn">Next</button>
    </div>
    <div class="progress-bar"><div class="progress" id="progress"></div></div>
  </div>

  <!-- Review Screen -->
  <div class="review" id="review">
    <h3>Review Your Questions</h3>
    <p class="legend">
      <span style="background:#ccc;"></span> Answered &nbsp;&nbsp;
      <span style="background:#e57373;"></span> Not Answered &nbsp;&nbsp;
      <span style="color:red;font-weight:bold;">âš‘</span> Flagged
    </p>
    <p id="flaggedCount"></p>
    <div class="review-grid" id="reviewGrid"></div>
    <button id="submitBtn" class="restart-btn">Submit Quiz</button>
  </div>

  <!-- Score Screen -->
  <div class="score-screen" id="scoreScreen">
    <h3 id="scoreText"></h3>
    <ul id="missedList"></ul>
    <button id="restartBtn" class="restart-btn">Restart Quiz</button>
    <p id="highScoreText"></p>
    <p id="lastScoreText"></p>
  </div>
</div>

<script>
// Level 1 Investing Vocabulary Only
const quizData = [
  {q:"What is a 'stock'?", a:["Share of ownership in a company","Loan","Company expense","Bank account"], correct:0, explanation:"A stock represents ownership in a company."},
  {q:"What is a 'bond'?", a:["Loan to a company or government","Stock","Debt you own","Savings account"], correct:0, explanation:"A bond is a loan you give to a company or government."},
  {q:"What is an 'asset'?", a:["Something valuable you own","Debt you owe","Company liability","Stock market"], correct:0, explanation:"An asset is something valuable that you own."},
  {q:"What is a 'liability'?", a:["Debt you owe","Investment gain","Stock","Dividend"], correct:0, explanation:"A liability is money you owe."},
  {q:"What is a 'dividend'?", a:["Payment to shareholders","Company cost","Loan","Interest"], correct:0, explanation:"Dividends are payments made to shareholders."},
  {q:"What is 'capital'?", a:["Money used for investment","Company revenue","Stock price","Debt"], correct:0, explanation:"Capital is money used to invest."},
  {q:"What is a 'portfolio'?", a:["Collection of investments","Bank account","Single stock","Loan"], correct:0, explanation:"A portfolio is all your investments together."},
  {q:"What is 'risk'?", a:["Chance of losing money","Guaranteed profit","Company stock","Interest rate"], correct:0, explanation:"Risk is the chance that you may lose money."},
  {q:"What is 'liquidity'?", a:["How easily an asset can be turned into cash","Investment type","Profit","Stock index"], correct:0, explanation:"Liquidity is how quickly you can convert an asset to cash."},
  {q:"What is 'interest'?", a:["Payment for borrowed money","Profit from stocks","Company revenue","Loan type"], correct:0, explanation:"Interest is what you pay for borrowing money."}
];

let current=0;
let answers=Array(quizData.length).fill(null);
let flags=Array(quizData.length).fill(false);

const startScreen=document.getElementById('startScreen');
const startBtn=document.getElementById('startBtn');
const scoreInfo=document.getElementById('scoreInfo');
const quizDiv=document.getElementById('quiz');
const questionNumberEl=document.getElementById('questionNumber');
const questionEl=document.getElementById('question');
const optionsEl=document.getElementById('options');
const prevBtn=document.getElementById('prevBtn');
const nextBtn=document.getElementById('nextBtn');
const flagBtn=document.getElementById('flagBtn');
const progressEl=document.getElementById('progress');
const reviewDiv=document.getElementById('review');
const reviewGrid=document.getElementById('reviewGrid');
const flaggedCount=document.getElementById('flaggedCount');
const submitBtn=document.getElementById('submitBtn');
const scoreScreen=document.getElementById('scoreScreen');
const scoreText=document.getElementById('scoreText');
const missedList=document.getElementById('missedList');
const restartBtn=document.getElementById('restartBtn');
const highScoreText=document.getElementById('highScoreText');
const lastScoreText=document.getElementById('lastScoreText');

function loadQuestion(){
  const q=quizData[current];
  questionNumberEl.textContent=`Question ${current+1} of ${quizData.length}`;
  questionEl.textContent=q.q;
  optionsEl.innerHTML='';
  q.a.forEach((opt,i)=>{
    const btn=document.createElement('button');
    btn.textContent=opt;
    btn.classList.toggle('selected',answers[current]===i);
    btn.onclick=()=>{
      answers[current]=i;
      Array.from(optionsEl.children).forEach(b=>b.classList.remove('selected'));
      btn.classList.add('selected');
    };
    optionsEl.appendChild(btn);
  });
  flagBtn.textContent=flags[current]?'Unflag':'Flag';
  progressEl.style.width=`${((current+1)/quizData.length)*100}%`;
}

function nextQuestion(){ if(current<quizData.length-1){ current++; loadQuestion(); } else { showReview(); } }
function prevQuestion(){ if(current>0){ current--; loadQuestion(); } }
function toggleFlag(){ flags[current]=!flags[current]; flagBtn.textContent=flags[current]?'Unflag':'Flag'; }

function showReview(){
  quizDiv.style.display='none';
  reviewDiv.style.display='block';
  reviewGrid.innerHTML='';
  let flagged=0;
  quizData.forEach((q,i)=>{
    const box=document.createElement('div');
    box.classList.add('review-box');
    if(answers[i]===null){ box.classList.add('notanswered'); box.setAttribute('data-tooltip','Not Answered');}
    else{ box.classList.add('answered'); box.setAttribute('data-tooltip','Answered'); }
    if(flags[i]){ box.classList.add('flagged'); flagged++; box.setAttribute('data-tooltip','Flagged'); }
    box.textContent=`Q${i+1}`;
    box.onclick=()=>{ reviewDiv.style.display='none'; quizDiv.style.display='block'; current=i; loadQuestion(); };
    reviewGrid.appendChild(box);
  });
  flaggedCount.textContent=`Flagged Questions: ${flagged}`;
}

function submitQuiz(){
  reviewDiv.style.display='none';
  scoreScreen.style.display='block';
  let score=0;
  missedList.innerHTML='';
  quizData.forEach((q,i)=>{
    const li=document.createElement('li');
    if(answers[i]===q.correct){ score++; li.classList.add('correct'); }
    else{ li.classList.add('wrong'); }
    li.innerHTML=`Q${i+1}: Your answer: ${answers[i]!==null?q.a[answers[i]]:'None'}<br>Correct: ${q.a[q.correct]}<br>Explanation: ${q.explanation}`;
    li.onclick=()=>{ li.scrollIntoView({behavior:'smooth'}); };
    missedList.appendChild(li);
  });
  scoreText.textContent=`Your Score: ${score} / ${quizData.length}`;

  // Save last and high scores
  const lastScore = score;
  const highScore = Math.max(score, localStorage.getItem('investQuizHighScore')||0);
  localStorage.setItem('investQuizLastScore', lastScore);
  localStorage.setItem('investQuizHighScore', highScore);

  lastScoreText.textContent=`Last Score: ${lastScore} / ${quizData.length}`;
  highScoreText.textContent=`Highest Score: ${highScore} / ${quizData.length}`;

  const boxes = reviewGrid.children;
  for(let i=0;i<boxes.length;i++){
    if(answers[i]===quizData[i].correct) boxes[i].style.backgroundColor='#28a745';
    else if(answers[i]===null) boxes[i].style.backgroundColor='#e57373';
    else boxes[i].style.backgroundColor='#dc3545';
    boxes[i].style.color='#fff';
  }
}

function restartQuiz(){
  answers=Array(quizData.length).fill(null);
  flags=Array(quizData.length).fill(false);
  current=0;
  scoreScreen.style.display='none';
  reviewDiv.style.display='none';
  quizDiv.style.display='block';
  loadQuestion();
}

prevBtn.onclick=prevQuestion;
nextBtn.onclick=nextQuestion;
flagBtn.onclick=toggleFlag;
submitBtn.onclick=submitQuiz;
restartBtn.onclick=restartQuiz;

startBtn.onclick=()=>{
  startScreen.style.display='none';
  quizDiv.style.display='block';
  loadQuestion();
};

// Show last and high score on start screen
const lastScoreLS = localStorage.getItem('investQuizLastScore') || 0;
const highScoreLS = localStorage.getItem('investQuizHighScore') || 0;
scoreInfo.innerHTML=`Last Score: ${lastScoreLS} / 10<br>Highest Score: ${highScoreLS} / 10`;
</script>
</body>
</html>
