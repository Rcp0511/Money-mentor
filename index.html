<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Unit 1 ‚Äì Investing Vocabulary</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; font-family: Inter, sans-serif; }

body {
  margin: 0;
  background: #f8fafc;
  color: #0f172a;
}

/* UTIL */
.hidden { display: none; }
button { cursor: pointer; }

/* START SCREEN */
#startScreen {
  height: 100vh;
  background: #16a34a;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}

#startBox {
  text-align: center;
}

#startBox h1 {
  font-size: 2.4rem;
  margin-bottom: 20px;
}

#startBtn {
  padding: 14px 30px;
  font-size: 1.1rem;
  border: none;
  border-radius: 8px;
}

/* APP */
#app {
  max-width: 900px;
  margin: 30px auto;
  padding: 20px;
}

/* HEADER */
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

header h2 {
  font-size: 1.8rem;
}

#star {
  font-size: 1.8rem;
}

/* STATS */
#stats {
  display: flex;
  gap: 20px;
  margin: 15px 0 25px;
}

.stat {
  background: white;
  padding: 10px 16px;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,.06);
}

/* QUESTION CARD */
#card {
  background: white;
  padding: 24px;
  border-radius: 16px;
  box-shadow: 0 10px 25px rgba(0,0,0,.08);
}

.option {
  background: #f1f5f9;
  padding: 12px;
  border-radius: 10px;
  margin-top: 10px;
}

.option.correct { background: #dcfce7; }
.option.wrong { background: #fee2e2; }

/* CONTROLS */
#controls {
  display: flex;
  justify-content: space-between;
  margin-top: 20px;
  align-items: center;
}

#flagBtn {
  font-size: 1.4rem;
}

/* REVIEW */
.reviewItem {
  background: white;
  padding: 16px;
  border-radius: 14px;
  margin-bottom: 14px;
  box-shadow: 0 6px 16px rgba(0,0,0,.07);
}

.reviewTitle {
  font-weight: 600;
  margin-bottom: 6px;
}

.reviewExplain {
  color: #475569;
  font-size: .95rem;
}

/* FOOTER BUTTONS */
#footerBtns {
  margin-top: 25px;
  display: flex;
  gap: 12px;
}

.primary { background: #16a34a; color: white; }
.secondary { background: #334155; color: white; }
.danger { background: #dc2626; color: white; }

button {
  border: none;
  padding: 10px 18px;
  border-radius: 8px;
}
</style>
</head>

<body>

<!-- START -->
<div id="startScreen">
  <div id="startBox">
    <h1>Unit 1 ‚Äì Investing Vocabulary</h1>
    <button id="startBtn">Start Unit Test</button>
  </div>
</div>

<!-- APP -->
<div id="app" class="hidden">

<header>
  <h2>Unit 1 ‚Äì Investing Vocabulary</h2>
  <div id="star"></div>
</header>

<div id="stats">
  <div class="stat">Last Unit Test Score: <span id="lastScore">‚Äî</span></div>
  <div class="stat">Highest Unit Test Score: <span id="highScore">‚Äî</span></div>
</div>

<div id="card"></div>

<div id="controls">
  <button id="nextBtn" class="primary">Next</button>
  <span id="flagBtn">üö©</span>
</div>

<div id="footerBtns">
  <button id="reviewBtn" class="secondary hidden">Review</button>
  <button id="clearBtn" class="danger">Clear Data</button>
</div>

</div>

<script>
const questions = [
  {
    q: "What is a stock?",
    options: ["A loan to a company", "Ownership in a company", "A savings account"],
    answer: 1,
    explanation: "A stock represents partial ownership in a company, meaning you own a small piece of it."
  },
  {
    q: "What is diversification?",
    options: ["Buying one stock", "Spreading investments", "Timing the market"],
    answer: 1,
    explanation: "Diversification spreads investments across assets to reduce risk."
  }
];

let index = 0;
let score = 0;
let answers = [];
let flaggedQuestions = [];

const card = document.getElementById("card");
const lastScoreEl = document.getElementById("lastScore");
const highScoreEl = document.getElementById("highScore");
const starEl = document.getElementById("star");

function loadStats() {
  lastScoreEl.textContent = localStorage.getItem("lastScore") || "‚Äî";
  highScoreEl.textContent = localStorage.getItem("highScore") || "‚Äî";
  if (localStorage.getItem("unitComplete")) starEl.textContent = "‚≠ê";
}

function showQuestion() {
  const q = questions[index];
  card.innerHTML = `<h3>${q.q}</h3>`;

  q.options.forEach((opt,i)=>{
    const div = document.createElement("div");
    div.className = "option";
    div.textContent = opt;
    div.onclick = ()=>select(i,div);
    card.appendChild(div);
  });
}

function select(i,div) {
  if (answers[index] !== undefined) return;
  answers[index] = i;

  if (i === questions[index].answer) {
    div.classList.add("correct");
    score++;
  } else {
    div.classList.add("wrong");
  }
}

document.getElementById("flagBtn").onclick = () => {
  if (!flaggedQuestions.includes(index)) flaggedQuestions.push(index);
};

document.getElementById("nextBtn").onclick = () => {
  index++;
  if (index < questions.length) {
    showQuestion();
  } else {
    finishQuiz();
  }
};

function finishQuiz() {
  const percent = Math.round(score / questions.length * 100);

  localStorage.setItem("lastScore", percent + "%");

  const high = parseInt(localStorage.getItem("highScore")) || 0;
  if (percent > high) localStorage.setItem("highScore", percent + "%");

  if (percent === 100) {
    localStorage.setItem("unitComplete", "true");
    starEl.textContent = "‚≠ê";
  }

  card.innerHTML = `<h3>Unit Test Complete</h3><p>Your score: ${percent}%</p>`;
  document.getElementById("reviewBtn").classList.remove("hidden");
}

document.getElementById("reviewBtn").onclick = () => {
  card.innerHTML = "";

  questions.forEach((q,i)=>{
    const item = document.createElement("div");
    item.className = "reviewItem";

    const title = document.createElement("div");
    title.className = "reviewTitle";
    title.innerHTML =
      (answers[i] === q.answer ? "‚úî " : "‚úñ ") +
      q.q +
      (flaggedQuestions.includes(i) ? " üö©" : "");

    const exp = document.createElement("div");
    exp.className = "reviewExplain";
    exp.textContent = q.explanation;

    item.appendChild(title);
    item.appendChild(exp);
    card.appendChild(item);
  });
};

document.getElementById("clearBtn").onclick = () => {
  localStorage.clear();
  location.reload();
};

document.getElementById("startBtn").onclick = () => {
  document.getElementById("startScreen").classList.add("hidden");
  document.getElementById("app").classList.remove("hidden");
  loadStats();
  showQuestion();
};
</script>

</body>
</html>
