<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unit 1 Quiz Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>

<style>
:root {
    --bg: #f4f7fa;
    --card-bg: white;
    --text: #1c1e21;
    --text-light: #555;
    --green: #43a047;
    --green-dark: #2e7d32;
    --green-darker: #1b5e20;
    --red: #dc3545;
    --red-dark: #b02a37;
}

[data-theme="dark"] {
    --bg: #121212;
    --card-bg: #1e1e1e;
    --text: #e0e0e0;
    --text-light: #aaa;
    --red: #ff5252;
    --red-dark: #d32f2f;
}

body {
    margin:0;
    font-family:'Inter', sans-serif;
    background:var(--bg) url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="%23c8e6c9"/><circle cx="20" cy="20" r="1" fill="%23c8e6c9"/><circle cx="80" cy="80" r="1.5" fill="%23c8e6c9"/><circle cx="30" cy="70" r="1" fill="%23c8e6c9"/><circle cx="70" cy="30" r="1.2" fill="%23c8e6c9"/></svg>') repeat;
    color:var(--text);
    transition: background 0.4s, color 0.4s;
}

header {
    background:linear-gradient(135deg, #43a047, #2e7d32);
    color:white;
    padding:18px 40px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    box-shadow:0 4px 12px rgba(0,0,0,0.2);
    font-family: 'Poppins', sans-serif;
}

.header-left { display:flex; align-items:center; gap:15px; }
.header-title { flex-grow:1; text-align:center; font-size:1.9em; font-weight:600; }
.home-btn { color:white; text-decoration:none; font-size:1.1em; font-weight:600; display:flex; align-items:center; gap:8px; }
.home-btn:hover { opacity:0.9; transform:scale(1.05); }

.header-right {
    display:flex;
    align-items:center;
    gap:16px;
}

#theme-toggle {
    background:none;
    border:none;
    color:white;
    font-size:1.4rem;
    cursor:pointer;
    padding:6px;
    transition: transform 0.2s;
}

#theme-toggle:hover { transform: scale(1.15); }

.container {
    max-width:1100px;
    margin:40px auto;
    padding:30px;
    background:var(--card-bg);
    border-radius:20px;
    box-shadow:0 8px 20px rgba(0,0,0,0.1);
    transition: background 0.4s, color 0.4s;
}

/* Unit Card Styles (back like original) */
.unit-card {
    background:linear-gradient(145deg,#66bb6a,#388e3c);
    border-radius:20px;
    margin-bottom:30px;
    padding:25px 30px;
    box-shadow:0 8px 20px rgba(0,0,0,0.2);
    cursor:pointer;
    transition: transform 0.3s, box-shadow 0.3s;
    color:white;
}

.unit-card:hover {
    transform:translateY(-5px);
    box-shadow:0 12px 25px rgba(0,0,0,0.25);
}

.unit-header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    flex-wrap:wrap;
}

.title {
    display:flex;
    align-items:center;
    gap:12px;
    font-weight:600;
    font-size:1.3em;
}

.title::before {
    content: '\f02d';
    font-family: "Font Awesome 6 Free";
    font-weight: 900;
    color:gold;
}

.unit-complete { font-weight:700; color:#ffd700; }

.scores {
    font-size:1em;
    color:#e8f5e9;
    background:rgba(0,0,0,0.2);
    padding:8px 12px;
    border-radius:10px;
}

.unit-dropdown {
    display:none;
    flex-direction:row;
    gap:20px;
    margin-top:20px;
}

.unit-dropdown button {
    padding:14px 20px;
    border:none;
    border-radius:14px;
    font-size:1.1em;
    font-weight:500;
    color:white;
    cursor:pointer;
    display:flex;
    align-items:center;
    gap:12px;
    transition: transform 0.2s;
}

.unit-dropdown button:hover { transform:translateY(-3px); }

.study-btn { background:#43a047; }
.test-btn { background:#1b5e20; }

/* Start Screen â€“ fully green */
#startScreen {
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    height:100%;
    width:100%;
    padding:60px 30px;
    background:#43a047;
    color:white;
    border-radius:20px;
    box-sizing:border-box;
}

#startScreen h2 { font-size:2rem; margin-bottom:30px; }

#startBtn {
    padding:16px 40px;
    font-size:1.35rem;
    border:none;
    border-radius:12px;
    background:#1b5e20;
    color:white;
    cursor:pointer;
    box-shadow:0 6px 18px rgba(0,0,0,0.3);
}

#startBtn:hover { background:#155d27; }

/* Close X button */
#closeQuiz {
    position:absolute;
    top:20px;
    right:25px;
    font-size:2.2rem;
    cursor:pointer;
    color:var(--red);
}

[data-theme="dark"] #closeQuiz { color:var(--red-dark); }

/* Dark mode quiz content fixes */
[data-theme="dark"] .quiz-container { background:var(--card-bg); color:var(--text); }
[data-theme="dark"] .options button {
    background:#2a2a2a;
    border-color:#555;
    color:var(--text);
}
[data-theme="dark"] .options button:hover { border-color:#66bb6a; background:#333; }
[data-theme="dark"] .options button.selected { background:#2e7d32; border-color:#66bb6a; }

/* Your other existing styles go here unchanged (question, progress, review, scoreScreen, etc.) */
</style>
</head>
<body>

<header>
    <div class="header-left">
        <a href="https://sites.google.com/view/money--mentor/home" class="home-btn"><i class="fas fa-home"></i> Go to Homepage</a>
    </div>
    <div class="header-title">Student Dashboard</div>
    <div class="header-right">
        <span id="progressText">0 out of 1 units completed</span>
        <button id="theme-toggle"><i class="fas fa-lightbulb"></i></button>
    </div>
</header>

<div class="container" id="unitContainer">
    <!-- Unit cards will be inserted here by JS -->
</div>

<div class="warning-note"><i class="fas fa-info-circle"></i> Data does not sync across devices. Scores and progress are stored locally in your browser.</div>

<div id="quizOverlay">
    <div class="quiz-container">
        <span id="closeQuiz">&times;</span>
        <div id="startScreen">
            <h2>ðŸ“ˆ Unit 1: Investing Vocab ðŸ“ˆ</h2>
            <button id="startBtn">Start Quiz</button>
        </div>
        <div id="quiz">
            <div class="question-number" id="questionNumber"></div>
            <div class="question" id="question"></div>
            <div class="options" id="options"></div>
            <div class="controls">
                <button id="prevBtn">Previous</button>
                <button id="nextBtn">Next</button>
            </div>
            <div class="progress-bar"><div class="progress" id="progress"></div></div>
        </div>
        <div id="review">
            <h2>Review Page</h2>
            <div class="review-grid" id="reviewGrid"></div>
            <button class="restart-btn" id="toScoreBtn">Submit Quiz</button>
        </div>
        <div id="scoreScreen">
            <h3>Your Score</h3>
            <ul id="missedList"></ul>
            <p id="lastScoreText"></p>
            <p id="highScoreText"></p>
            <p id="unitCompleteText" style="color:gold; font-weight:bold;"></p>
            <button class="restart-btn" id="restartBtn">Restart Quiz</button>
            <button class="clear-btn" id="clearDataBtn">Clear Saved Data</button>
        </div>
    </div>
</div>

<script>
// Theme toggle with lightbulb icon
const themeToggle = document.getElementById('theme-toggle');
const html = document.documentElement;

function updateBulbIcon() {
    const isDark = html.getAttribute('data-theme') === 'dark';
    themeToggle.innerHTML = isDark 
        ? '<i class="fas fa-lightbulb"></i>' 
        : '<i class="far fa-lightbulb"></i>';  // filled when dark, outline when light
}

themeToggle.addEventListener('click', () => {
    const current = html.getAttribute('data-theme');
    html.setAttribute('data-theme', current === 'dark' ? 'light' : 'dark');
    updateBulbIcon();
});
updateBulbIcon();

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Your original unit card rendering + quiz logic
// (paste your full original script content here)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const units = [{name:"Unit 1: Investing Vocab", id: 'unit1'}];
const container = document.getElementById('unitContainer');
const progressText = document.getElementById('progressText');

function renderUnitCard() {
    container.innerHTML = '';
    let completedCount = 0;
    units.forEach(unit => {
        const card = document.createElement('div'); 
        card.className='unit-card';
        
        const header = document.createElement('div'); 
        header.className='unit-header';
        
        const titleDiv = document.createElement('div'); 
        titleDiv.className='title';
        titleDiv.textContent = unit.name;
        
        const unitCompleteStored = localStorage.getItem(unit.id + 'Complete') === 'true';
        if(unitCompleteStored){
            const uc = document.createElement('span'); 
            uc.className='unit-complete'; 
            uc.textContent='Unit Complete';
            titleDiv.prepend(uc);
            const star = document.createElement('i'); 
            star.className='fas fa-star'; 
            star.style.color='gold'; 
            star.style.marginLeft='10px';
            titleDiv.appendChild(star);
            completedCount++;
        }
        
        const lastScore = parseInt(localStorage.getItem(unit.id + 'LastScore'))||0;
        const highScore = parseInt(localStorage.getItem(unit.id + 'HighScore'))||0;
        
        const scoreDiv = document.createElement('div'); 
        scoreDiv.className='scores';
        scoreDiv.textContent = `Last: ${lastScore}% | Best: ${highScore}%`;
        
        header.appendChild(titleDiv); 
        header.appendChild(scoreDiv);
        card.appendChild(header);
        
        const dropdown = document.createElement('div'); 
        dropdown.className='unit-dropdown';
        
        const studyBtn = document.createElement('button'); 
        studyBtn.className='study-btn';
        studyBtn.innerHTML='<i class="fas fa-book"></i> Study';
        studyBtn.onclick = () => alert(`Study ${unit.name}`);
        
        const testBtn = document.createElement('button'); 
        testBtn.className='test-btn';
        testBtn.innerHTML='<i class="fas fa-clipboard"></i> Unit Test';
        testBtn.onclick = openQuiz;
        
        dropdown.appendChild(studyBtn); 
        dropdown.appendChild(testBtn);
        card.appendChild(dropdown);
        
        card.onclick = () => { 
            dropdown.style.display = (dropdown.style.display==='flex'?'none':'flex'); 
        };
        
        container.appendChild(card);
    });
    progressText.textContent = `${completedCount} out of ${units.length} units completed`;
}

renderUnitCard();

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Rest of your quiz JavaScript (quizData, openQuiz, loadQuestion, etc.)
// Copy-paste your original quiz logic here (from const quizDataOriginal = [...] to the end)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</script>
</body>
</html>
